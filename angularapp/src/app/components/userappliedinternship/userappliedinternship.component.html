

<h1>Applied Internships</h1>

<input
  type="text"
  [(ngModel)]="searchText"
  placeholder="Search by Company Name"
  class="search-input"
/>

<!-- Loading Spinner -->
<div *ngIf="isLoading">Loading internships...</div>

<!-- If data is loaded -->
<table *ngIf="!isLoading && filteredApplications.length > 0; else noRecords">
  <thead>
    <tr>
      <th>Sl. No.</th>
      <th>Company Name</th>
      <th>Resume</th>
      <th>Application Date</th>
      <th>Application Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of filteredApplications; let i = index">
      <td>{{ i + 1 }}</td>
      <td>{{ item.internship?.CompanyName || 'N/A' }}</td>
      <td>
        <button (click)="viewResume(item.application.Resume)">View Resume</button>
      </td>
      <td>{{ item.application.ApplicationDate | date }}</td>
      <td>{{ item.application.ApplicationStatus }}</td>
      <td>
        <button (click)="deleteApplication(item.application.InternshipApplicationId!)">Delete</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- No records template -->
<ng-template #noRecords>
  <p>Oops! No records found.</p>
</ng-template>